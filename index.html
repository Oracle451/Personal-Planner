<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Task Manager</h1>
    </header>
    <main>
        <section class="calendar-section">
            <h2>Your Calendar for <span id="current-month"></span></h2>
            <div class="calendar" id="calendar"></div>
        </section>
        <section class="greeting-section">
		
            <div class="greeting">
				<h2 id="greeting">Good Morning!</h2>
			</div>
			
			<div class="status">
				<p id="time">The time is currently: --:--</p>
				<p id="day">Today is: --</p>
				<p id="weather">Weather Report: --</p>
			</div>
			
        </section>
    </main>
    <footer>
        <p>&copy; 2025 Task Manager</p>
    </footer>
    <script>
	
		// Get the current month (0-11)
		const currentMonth = new Date().getMonth();

		// Array of month names
		const months = [
		  'January', 'February', 'March', 'April', 'May', 'June', 
		  'July', 'August', 'September', 'October', 'November', 'December'
		];

		// Display the current month
		document.getElementById('current-month').textContent = months[currentMonth];
		
		// Function to update the greeting based on time
        function updateGreeting() {
            const hours = new Date().getHours();
            const greeting = document.getElementById("greeting");
            if (hours < 12) {
                greeting.textContent = "Good Morning!";
            } else if (hours < 18) {
                greeting.textContent = "Good Afternoon!";
            } else {
                greeting.textContent = "Good Evening!";
            }
        }
		
        function generateCalendar() {
            const calendarElement = document.getElementById("calendar");
            calendarElement.innerHTML = ""; // Clear existing content

            const now = new Date();
            const currentMonth = now.getMonth();
            const currentYear = now.getFullYear();

            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();

            // Add weekdays
            const weekdays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
            weekdays.forEach(day => {
                const dayElement = document.createElement("div");
                dayElement.className = "day";
                dayElement.textContent = day;
                calendarElement.appendChild(dayElement);
            });

            // Add empty cells for days before the first day
            for (let i = 0; i < firstDay; i++) {
                const emptyCell = document.createElement("div");
                emptyCell.className = "date";
                calendarElement.appendChild(emptyCell);
            }

            // Add days of the month
            for (let i = 1; i <= daysInMonth; i++) {
                const dateElement = document.createElement("div");
                dateElement.className = "date";
                dateElement.textContent = i;
                calendarElement.appendChild(dateElement);
            }
        }
		
		 // Function to update the time and day
        function updateTime() {
            const now = new Date();
            document.getElementById("time").textContent = `Time: ${now.toLocaleTimeString()}`;
            document.getElementById("day").textContent = `Day: ${now.toLocaleDateString()}`;
        }

        // Function to fetch and update the weather
        async function updateWeather() {
            try {
                const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=35.1050&longitude=-111.3712&current_weather=true');
                const data = await response.json();
                const temperature = data.current_weather.temperature;
                const weather = data.current_weather.weathercode;
                document.getElementById("weather").textContent = `Weather: ${temperature}Â°C, Code ${weather}`;
            } catch (error) {
                document.getElementById("weather").textContent = "Weather: Unable to fetch";
            }
        }

        function initialize() {
            generateCalendar();
            updateGreeting();
            updateTime();
            updateWeather();
            setInterval(updateTime, 1000); // Update time every second
            updateGreeting();
        }

        document.addEventListener("DOMContentLoaded", initialize);
    </script>
</body>
</html>
